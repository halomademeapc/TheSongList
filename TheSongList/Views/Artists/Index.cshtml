@model IEnumerable<SumPair<Artist>>

@{
    ViewData["Title"] = "Artists";
    var maxSongs = Model.Max(p => p.Count);

    float getPercentage(SumPair<Artist> i) => maxSongs > 0 ? (float)i.Count * 100 / maxSongs : 0;
}

<div class="d-flex justify-content-between align-items-center">
    <h2>Artists</h2>
    <a class="btn btn-outline-primary my-3" asp-action="Create">
        <i class="fas fa-plus mr-2"></i>
        Create New
    </a>
</div>
<div class="list-group">
    @foreach (var item in Model)
    {
        <a asp-action="Details" asp-route-id="@item.Item.Id" class="list-group-item list-group-item-action position-relative">
            <span>
                @Html.DisplayFor(modelItem => item.Item.Name)
                <span class="badge badge-pill badge-primary ml-1">@Html.DisplayFor(modelItem => item.Count)</span>
            </span>
            <span class="position-absolute h-100 bg-primary opacity-10 corner-tl" style="width: @getPercentage(item)%"></span>
        </a>
    }
</div>